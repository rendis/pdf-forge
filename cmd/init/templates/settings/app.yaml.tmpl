# pdf-forge Configuration
# Override values using environment variables with prefix DOC_ENGINE_
# Example: DOC_ENGINE_SERVER_PORT=9000

environment: development

server:
  port: "8080"
  # base_path: "/pdf-forge"  # DOC_ENGINE_SERVER_BASE_PATH - URL prefix for all routes
  read_timeout: 30    # seconds
  write_timeout: 30   # seconds
  shutdown_timeout: 10 # seconds
  cors:
    allowed_origins:
      - "*"

database:
  host: localhost
  port: 5432
  user: postgres
  password: ""
  name: pdf_forge
  ssl_mode: disable
  max_pool_size: 10
  min_pool_size: 2
  max_idle_time_seconds: 300

# OIDC Authentication (optional)
# Empty/missing auth config = dummy auth mode (dev only)
#
# auth:
#   panel:
#     name: "keycloak"
#     discovery_url: "https://auth.example.com/realms/web"
#     client_id: "pdf-forge-web"

logging:
  level: info   # debug, info, warn, error
  format: json  # json, text

bootstrap:
  enabled: true  # First user to login becomes SUPERADMIN

typst:
  bin_path: typst
  timeout_seconds: 10
  font_dirs: []
  max_concurrent: 20
  acquire_timeout_seconds: 5
  template_cache_ttl_seconds: 60
  template_cache_max_entries: 1000
  image_cache_dir: ""
  image_cache_max_age_seconds: 300
  image_cache_cleanup_interval_seconds: 60
